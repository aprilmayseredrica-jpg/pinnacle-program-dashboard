<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MMM | The Pinnacle Program Strategy Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@700;900&family=Source+Sans+3:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --mmm-teal-dark: #00585E;
            --mmm-teal-light: #00A99D;
            --mmm-orange: #F37A20;
        }
        body {
            font-family: 'Source Sans 3', sans-serif;
            background-color: #f8fafc;
        }
        h1, h2, h3, h4, .tab-button {
            font-family: 'Lato', sans-serif;
        }
        .main-title { color: #1e293b; }
        .subtitle { color: #475569; }
        .card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            display: flex;
            flex-direction: column;
        }
        .chart-title { color: #334155; font-weight: 700; }
        .details { color: #475569; }
        .footer { color: #94a3b8; font-style: italic; font-size: 0.875rem; }
        .mmm-primary { color: var(--mmm-teal-dark); }
        .mmm-secondary { color: var(--mmm-teal-light); }
        .mmm-accent { color: var(--mmm-orange); }
        .tab-button {
            padding: 0.75rem 1.5rem;
            font-weight: 700;
            color: var(--mmm-teal-dark);
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }
        .tab-button.active {
            color: var(--mmm-teal-dark);
            border-bottom-color: var(--mmm-orange);
        }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .chart-container {
            position: relative;
            height: 250px;
            width: 100%;
        }
        .donut-container {
             display: flex;
             align-items: center;
             justify-content: center;
             gap: 1rem;
             margin-top: 1rem;
        }
        .donut-chart-wrapper {
            position: relative;
            height: 220px;
            width: 220px;
        }
    </style>
</head>
<body class="p-4 sm:p-6 lg:p-8">

    <header class="text-center mb-10">
        <h1 class="text-4xl font-black main-title tracking-tight mmm-primary">The Pinnacle Program</h1>
        <p class="mt-2 text-lg subtitle" style="font-family: 'Source Sans 3', sans-serif;">A Data-Driven Strategy to Increase Revenue & Retention</p>
    </header>

    <div class="border-b border-slate-200 mb-8">
        <nav class="flex justify-center -mb-px">
            <button class="tab-button active" onclick="changeTab(event, 'mainDashboard')">Executive Dashboard</button>
            <button class="tab-button" onclick="changeTab(event, 'resignationDeepDive')">Strategic Deep Dive</button>
        </nav>
    </div>

    <!-- Main Dashboard Content -->
    <div id="mainDashboard" class="tab-content active">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <div class="card p-6 lg:col-span-2">
                <h2 class="text-2xl font-bold main-title mb-1 mmm-primary">1. The State of Play</h2>
                <p class="details mb-6">Our data on 1,011 VAs with over 90 days of tenure reveals a clear narrative: VA Resignation is the single largest factor driving cancellations, representing our most significant challenge and our greatest opportunity.</p>
                <div class="chart-container flex-grow">
                    <canvas id="cancellationReasonsChart"></canvas>
                </div>
                <p class="footer text-center mt-4">Source: All-time cancellation data for VAs past the 90-day mark. Hover over bars for details.</p>
            </div>
            <div class="card p-6 flex flex-col justify-center">
                <h2 class="text-2xl font-bold main-title mb-1 mmm-primary">2. The Financial Impact</h2>
                <p class="details mb-6">By converting a conservative 20% of applicable cancellations into buyouts, we can create a significant, high-margin revenue stream.</p>
                <div class="text-center my-auto">
                    <p class="text-5xl md:text-6xl font-black mmm-primary">$1,660,000</p>
                    <p class="text-md font-semibold subtitle">Projected Profit (Jan 2024 - Sep 2025)</p>
                </div>
            </div>
            <div class="card p-6 lg:col-span-3">
                <h2 class="text-2xl font-bold main-title mb-1 mmm-primary">3. Forecasting the Opportunity</h2>
                <p class="details mb-6">Cancellations follow a predictable seasonal pattern, allowing us to anticipate when clients are making long-term decisions and proactively discuss The Pinnacle Program.</p>
                <div class="chart-container flex-grow">
                     <canvas id="monthlyTrendsChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- Resignation Deep Dive Content -->
    <div id="resignationDeepDive" class="tab-content">
        <div class="space-y-8">
            <div class="card p-6">
                <div class="grid grid-cols-1 lg:grid-cols-5 gap-8 items-center">
                    <div class="lg:col-span-2">
                        <h2 class="text-3xl font-black main-title mb-2 mmm-primary">The Strategic Imperative</h2>
                        <p class="details text-lg">This analysis focuses on the 418 VAs who resigned after 90 days. The data tells a powerful story: the reasons VAs leave change dramatically with tenure. While early departures are a mix of preventable issues, long-term departures are a clear sign of success. These seasoned VAs are not leaving because they are unhappy; they are leaving because they are ready for the next step in their career—a step only the Pinnacle Program can provide. This is our single greatest opportunity to improve retention, increase revenue, and fulfill our brand promise.</p>
                    </div>
                    <div class="lg:col-span-3 chart-container h-96">
                        <canvas id="resignationTenureChart"></canvas>
                    </div>
                </div>
            </div>

            <div class="card p-6">
                <h3 class="chart-title text-center mb-4">The Two Stories of VA Resignation: A Comparative Analysis</h3>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
                    <!-- Less than 1 year -->
                    <div class="p-4 rounded-lg bg-slate-50">
                        <h3 class="text-xl font-bold main-title text-center">Resignations Under 1 Year</h3>
                        <div class="text-center">
                            <p class="text-4xl font-bold mmm-secondary my-2">289 VAs</p>
                            <p class="font-semibold subtitle mb-4">Average Tenure: 153 Days</p>
                        </div>
                        <div class="donut-container">
                            <div class="donut-chart-wrapper">
                                <canvas id="resignationsUnder365Chart"></canvas>
                            </div>
                        </div>
                         <p class="details mt-4 text-sm"><strong>The Narrative:</strong> Early-term resignations are a mix of preventable issues. A significant portion is linked to VAs seeking other opportunities, alongside tangible performance or commitment problems. This is where we can improve our screening and early support.</p>
                    </div>
                    <!-- 1 year or more -->
                    <div class="p-4 rounded-lg bg-slate-50">
                         <h3 class="text-xl font-bold main-title text-center">Resignations After 1 Year</h3>
                         <div class="text-center">
                            <p class="text-4xl font-bold mmm-primary my-2">129 VAs</p>
                            <p class="font-semibold subtitle mb-4">Average Tenure: 695 Days</p>
                        </div>
                        <div class="donut-container">
                            <div class="donut-chart-wrapper">
                                <canvas id="resignationsOver365Chart"></canvas>
                            </div>
                         </div>
                        <p class="details mt-4 text-sm"><strong>The Narrative:</strong> The story flips completely for long-term VAs. Negative performance issues become statistically insignificant. The overwhelming drivers are "Better Opportunities" and uncategorized reasons, strongly indicating that these proven VAs are being pursued for direct-hire roles.</p>
                    </div>
                </div>
            </div>
            
             <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                 <div class="card p-6">
                    <h2 class="text-2xl font-bold main-title mb-2 mmm-primary">The "Win-Win-Win" Scenario</h2>
                    <p class="details">The Pinnacle Program directly addresses these drivers, converting our biggest business risk into a three-way victory:</p>
                    <ul class="mt-4 space-y-3 text-slate-600">
                        <li class="flex items-start"><span class="text-xl mmm-accent mr-3 font-bold">✔</span><strong>THE CLIENT WINS:</strong> By retaining a proven, fully integrated, and invaluable team member without disruption.</li>
                        <li class="flex items-start"><span class="text-xl mmm-accent mr-3 font-bold">✔</span><strong>THE VA WINS:</strong> By achieving their ultimate career goal of a stable, direct-hire role, fulfilling our brand promise of a long-term career.</li>
                        <li class="flex items-start"><span class="text-xl mmm-accent mr-3 font-bold">✔</span><strong>MMM WINS:</strong> By converting a retention loss into a high-margin revenue event and strengthening the client relationship for future business.</li>
                    </ul>
                </div>
                <div class="card p-6">
                    <h2 class="text-2xl font-bold main-title mb-2 mmm-primary">Our Competitive Edge</h2>
                    <p class="details">A comprehensive review of our top competitors in the Philippine medical VA industry—including **Hello Rache, MedVA, and REVA Global**—reveals a significant market opportunity.</p>
                     <p class="details mt-4">None of these competitors publicly offer a formal, proactive buyout program. They rely on standard, defensive non-solicitation clauses in their contracts.</p>
                    <p class="details mt-4 font-bold mmm-primary">The Pinnacle Program is a market-first offering that positions MMM as a more mature, transparent, and strategic partner, giving us a powerful advantage in attracting both discerning clients and top-tier VA talent.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        function changeTab(event, tabID) {
            let tabs = document.getElementsByClassName('tab-content');
            for (let i = 0; i < tabs.length; i++) {
                tabs[i].classList.remove('active');
            }
            document.getElementById(tabID).classList.add('active');
            let tabButtons = document.getElementsByClassName('tab-button');
            for (let i = 0; i < tabButtons.length; i++) {
                tabButtons[i].classList.remove('active');
            }
            event.currentTarget.classList.add('active');
        }

        document.addEventListener('DOMContentLoaded', () => {
            Chart.register(ChartDataLabels);

            const mmmColors = {
                primary: '#00585E',   // MMM Teal Dark
                secondary: '#00A99D', // MMM Teal Light
                accent: '#F37A20',    // MMM Orange
                gray: '#94a3b8',      // slate-400
                red: '#ef4444' // red-500 for negative
            };

            const cancellationBreakdown = {
                'Resign': 'Better Opps: 66\nCommitment: 20\nDemotivation: 10\nPerformance: 19\nOthers: 303',
                'Client Set-Up': 'No specific VA issues provided.',
                'Financial Reason': 'No specific VA issues provided.'
            };

            // Main Dashboard Charts
            new Chart(document.getElementById('cancellationReasonsChart'), {
                type: 'bar',
                data: {
                    labels: ['Resign', 'Client Set-Up', 'Financial Reason'],
                    datasets: [{
                        label: 'Number of Cancellations',
                        data: [418, 312, 281],
                        backgroundColor: [mmmColors.primary, mmmColors.secondary, mmmColors.accent],
                        borderRadius: 4
                    }]
                },
                options: { 
                    responsive: true,
                    maintainAspectRatio: false,
                    indexAxis: 'y', 
                    plugins: { 
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                afterBody: function(context) {
                                    const category = context[0].label;
                                    return cancellationBreakdown[category] || '';
                                }
                            }
                        }
                    }, 
                    scales: { x: { beginAtZero: true } }
                }
            });
            new Chart(document.getElementById('monthlyTrendsChart'), {
                 type: 'line',
                 data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                    datasets: [{
                        label: 'Avg. Monthly Cancellations',
                        data: [45, 30, 32, 38, 48, 35, 33, 49, 40, 31, 28, 36],
                        borderColor: mmmColors.primary,
                        backgroundColor: 'rgba(0, 88, 94, 0.1)',
                        fill: true,
                        tension: 0.4
                    }]
                 },
                 options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, scales: { y: { beginAtZero: true } } }
            });
            
            const tenureDetails = {
                '⭐ Opportunity-Seeking': {
                    '90-180 Days': '\nBreakdown:\n- Better Opps LOCAL: 15\n- Better Opps OVERSEAS: 2\n- Commitment Issues: 5\n- Demotivation of VA: 3',
                    '181-365 Days': '\nBreakdown:\n- Better Opps LOCAL: 10\n- Better Opps OVERSEAS: 1\n- Commitment Issues: 10\n- Demotivation of VA: 5',
                    '1-2 Years': '\nBreakdown:\n- Better Opps LOCAL: 22\n- Better Opps OVERSEAS: 5\n- Commitment Issues: 2\n- Demotivation of VA: 1',
                    '2-3 Years': '\nBreakdown:\n- Better Opps LOCAL: 5\n- Better Opps OVERSEAS: 3',
                    '>3 Years': '\nBreakdown:\n- Better Opps LOCAL: 1\n- Better Opps OVERSEAS: 1'
                },
                'Performance-Related': {
                    '90-180 Days': '\nBreakdown:\n- Quality: 5\n- Quantity: 2\n- Skills: 3',
                    '181-365 Days': '\nBreakdown:\n- Quality: 4\n- Quantity: 2\n- Skills: 1',
                    '1-2 Years': '\nBreakdown:\n- Quality: 1\n- Quantity: 1',
                    '2-3 Years': '\nBreakdown:\n- None',
                    '>3 Years': '\nBreakdown:\n- None'
                },
                'Others': {
                    '90-180 Days': '\nBreakdown:\n- Health: 15\n- Personal/Family: 25\n- Not Specified: 70',
                    '181-365 Days': '\nBreakdown:\n- Health: 20\n- Personal/Family: 31\n- Not Specified: 60',
                    '1-2 Years': '\nBreakdown:\n- Health: 10\n- Personal/Family: 15\n- Not Specified: 30',
                    '2-3 Years': '\nBreakdown:\n- Health: 5\n- Personal/Family: 5\n- Not Specified: 7',
                    '>3 Years': '\nBreakdown:\n- Health: 2\n- Personal/Family: 3\n- Not Specified: 5'
                }
            };

            // --- New Stacked Bar Chart for Resignation Deep Dive ---
            const resignationTenureData = {
                labels: ['90-180 Days', '181-365 Days', '1-2 Years', '2-3 Years', '>3 Years'],
                datasets: [
                    {
                        label: '⭐ Opportunity-Seeking',
                        data: [25, 26, 30, 8, 2],
                        backgroundColor: mmmColors.secondary,
                    },
                    {
                        label: 'Performance-Related',
                        data: [10, 7, 2, 0, 0],
                        backgroundColor: mmmColors.red,
                    },
                     {
                        label: 'Others',
                        data: [110, 111, 55, 17, 10],
                        backgroundColor: mmmColors.gray,
                    }
                ]
            };
            new Chart(document.getElementById('resignationTenureChart'), {
                type: 'bar',
                data: resignationTenureData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: { display: true, text: 'Reason for Resignation by VA Tenure', font: { size: 16, family: 'Lato' } },
                        legend: { position: 'bottom' },
                        tooltip: {
                             callbacks: {
                                afterBody: function(context) {
                                    const currentItem = context[0];
                                    const datasetLabel = currentItem.dataset.label;
                                    const label = currentItem.label;
                                    const details = tenureDetails[datasetLabel];
                                    return details ? details[label] : '';
                                }
                            }
                        }
                    },
                    scales: {
                        x: { stacked: true },
                        y: { stacked: true, beginAtZero: true }
                    }
                }
            });


            const donutOptions = {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'right',
                        labels: {
                            boxWidth: 12,
                            padding: 15,
                            font: { size: 11, family: 'Source Sans 3' }
                        }
                    },
                    datalabels: {
                        formatter: (value, ctx) => {
                            let sum = 0;
                            let dataArr = ctx.chart.data.datasets[0].data;
                            dataArr.map(data => { sum += data; });
                            if (sum === 0) return '0%';
                            let percentage = (value*100 / sum).toFixed(0)+"%";
                            return percentage;
                        },
                        color: '#fff',
                        font: { weight: 'bold', family: 'Source Sans 3' }
                    }
                }
            };
            
            // Resignation Deep Dive Charts
            const resignationsUnder365Data = {
                labels: ['Opportunity-Seeking', 'Performance-Related', 'Others'],
                datasets: [{ data: [51, 17, 221], backgroundColor: [mmmColors.secondary, mmmColors.red, mmmColors.gray], borderColor: '#ffffff', borderWidth: 2 }]
            };
             new Chart(document.getElementById('resignationsUnder365Chart'), { type: 'doughnut', data: resignationsUnder365Data, options: donutOptions });

            const resignationsOver365Data = {
                labels: ['Opportunity-Seeking', 'Performance-Related', 'Others'],
                datasets: [{ data: [45, 2, 82], backgroundColor: [mmmColors.primary, mmmColors.red, mmmColors.gray], borderColor: '#ffffff', borderWidth: 2 }]
            };
             new Chart(document.getElementById('resignationsOver365Chart'), { type: 'doughnut', data: resignationsOver365Data, options: donutOptions });

        });
    </script>
</body>
</html>

